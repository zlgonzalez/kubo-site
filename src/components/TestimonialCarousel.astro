---
const testimonials = [
  {
    name: "Mitzi",
    role: "Parent",
    text: "The teachers in Kubo Montessori are the most dedicated and most loving I have ever seen. They go over and beyond what they are supposed to do for the kids... and because of this you can clearly see the children grow and develop.",
    image: "/images/download.png"
  },
  {
    name: "CL",
    role: "Parent",
    text: "My son is thriving at the school. He has learned so much there. Not just academics but social skills and manners as well.",
    image: "/images/download.png"
  },
  {
    name: "Junlin",
    role: "Parent",
    text: "I know from the bottom of their heart, how much [the teachers] love and enjoy being with young children. My son developed a lot a good habits and learning skills since he started school and I'm more than happy with that.",
    image: "/images/download.png"
  },
  {
    name: "Jin",
    role: "Parent",
    text: "We chose Kubo as one of our friends recommended it to us. We soon found out that not only the school has good teacher to kids ratio (3:14), they also serve great food, the teachers are very patient and caring.",
    image: "/images/download.png"
  },
];
---

<div class="relative w-full max-w-4xl mx-auto py-12 px-4">
    <div class="text-center mb-10">
        <h2 class="text-3xl font-bold text-gray-800">What People Are Saying About Kubo Montessori</h2>
    </div>

    <!-- Carousel Container -->
    <div class="relative">
        <div id="carousel-track" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth gap-4 pb-4 no-scrollbar">
            {testimonials.map((t, index) => (
                <div class="flex-shrink-0 w-full md:w-2/3 lg:w-1/2 snap-center">
                    <div class="bg-white p-6 rounded-lg shadow-lg h-full border border-gray-100">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-4 bg-gray-200">
                                <img src={t.image} alt={t.name} class="w-full h-full object-cover" />
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">{t.name}</h3>
                                <span class="text-sm text-gray-500">{t.role}</span>
                            </div>
                        </div>
                        <blockquote class="text-gray-600 italic">
                            "{t.text}"
                        </blockquote>
                    </div>
                </div>
            ))}
        </div>

        <!-- Controls -->
        <button id="prev-btn" class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white focus:outline-none -ml-4 md:-ml-10">
            <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <button id="next-btn" class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white focus:outline-none -mr-4 md:-mr-10">
            <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
        </button>
    </div>
</div>

<style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
</style>

<script>
    const track = document.getElementById('carousel-track');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');

    if (track && prevBtn && nextBtn) {
        prevBtn.addEventListener('click', () => {
             // Scroll by one item width (approx)
            const itemWidth = track.firstElementChild ? (track.firstElementChild as HTMLElement).offsetWidth + 16 : 300;
            track.scrollBy({ left: -itemWidth, behavior: 'smooth' });
        });

        nextBtn.addEventListener('click', () => {
             // Scroll by one item width
             const itemWidth = track.firstElementChild ? (track.firstElementChild as HTMLElement).offsetWidth + 16 : 300;
            track.scrollBy({ left: itemWidth, behavior: 'smooth' });
        });
    }
</script>
